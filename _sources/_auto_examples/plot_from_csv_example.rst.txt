
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "_auto_examples/plot_from_csv_example.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download__auto_examples_plot_from_csv_example.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr__auto_examples_plot_from_csv_example.py:


DrillholeDatabase.from_csv() Example
=====================================

This example demonstrates how to use the DrillholeDatabase.from_csv() method
to load drilling data directly from CSV files with column mapping.

This is much simpler than manually loading CSVs, creating DataFrames, and
mapping columns yourself.

.. GENERATED FROM PYTHON SOURCE LINES 11-15

.. code-block:: Python


    import os
    from loopresources.drillhole import DrillholeDatabase, DhConfig








.. GENERATED FROM PYTHON SOURCE LINES 16-21

Load Thalanga Data Using from_csv()
------------------------------------
The from_csv() method allows you to load collar and survey data directly
from CSV files while specifying how the CSV columns map to the required
DrillholeDatabase columns.

.. GENERATED FROM PYTHON SOURCE LINES 21-50

.. code-block:: Python


    # Get the path to the thalanga data folder
    data_folder = os.path.join(".", "thalanga")
    collar_file = os.path.join(data_folder, "ThalangaML_collar.csv")
    survey_file = os.path.join(data_folder, "ThalangaML_survey.csv")

    # Load the data using from_csv with column mapping
    db = DrillholeDatabase.from_csv(
        collar_file=collar_file,
        survey_file=survey_file,
        collar_columns={
            "HOLE_ID": DhConfig.holeid,  # Map 'HOLE_ID' column to holeid
            "X_MGA": DhConfig.x,  # Map 'X_MGA' column to x
            "Y_MGA": DhConfig.y,  # Map 'Y_MGA' column to y
            "Z_MGA": DhConfig.z,  # Map 'Z_MGA' column to z
            "DEPTH": DhConfig.total_depth,  # Map 'DEPTH' column to total_depth
        },
        survey_columns={
            "Drillhole ID": DhConfig.holeid,  # Map 'Drillhole ID' column to holeid
            "Depth": DhConfig.depth,  # Map 'Depth' column to depth
            "Azimuth": DhConfig.azimuth,  # Map 'Azimuth' column to azimuth
            "Dip": DhConfig.dip,  # Map 'Dip' column to dip
        },
    )

    print("✓ Successfully loaded drillhole database using from_csv()")
    print(f"  Number of holes: {len(db.list_holes())}")
    print(f"  First few holes: {db.list_holes()[:10]}")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    ✓ Successfully loaded drillhole database using from_csv()
      Number of holes: 5275
      First few holes: ['C2034NEI32', 'C2035ND39', 'C2035NED25', 'C2035NEI14', 'C2035NI10', 'C2035NI30', 'C2036NI30', 'C2037ND24', 'C2037ND30', 'C2037NH00']




.. GENERATED FROM PYTHON SOURCE LINES 51-54

Compare with Manual Loading
----------------------------
The from_csv() method simplifies what would otherwise require multiple steps:

.. GENERATED FROM PYTHON SOURCE LINES 54-90

.. code-block:: Python


    import pandas as pd

    #
    # # Load CSV files
    collar_raw = pd.read_csv(collar_file)
    survey_raw = pd.read_csv(survey_file)
    #
    # # Manually map columns
    collar = pd.DataFrame(
        {
            DhConfig.holeid: collar_raw["HOLE_ID"],
            DhConfig.x: collar_raw["X_MGA"],
            DhConfig.y: collar_raw["Y_MGA"],
            DhConfig.z: collar_raw["Z_MGA"],
            DhConfig.total_depth: collar_raw["DEPTH"],
        }
    )
    #
    survey = pd.DataFrame(
        {
            DhConfig.holeid: survey_raw["Drillhole ID"],
            DhConfig.depth: survey_raw["Depth"],
            DhConfig.dip: survey_raw["Dip"],
            DhConfig.azimuth: survey_raw["Azimuth"],
        }
    )
    # # Remove missing data
    collar = collar.dropna(
        subset=[DhConfig.holeid, DhConfig.x, DhConfig.y, DhConfig.z, DhConfig.total_depth]
    )
    survey = survey.dropna(subset=[DhConfig.holeid, DhConfig.depth, DhConfig.dip, DhConfig.azimuth])
    #
    # # Create database
    db = DrillholeDatabase(collar=collar, survey=survey)








.. GENERATED FROM PYTHON SOURCE LINES 91-93

Database Statistics
-------------------

.. GENERATED FROM PYTHON SOURCE LINES 93-103

.. code-block:: Python

    print("\nDatabase Statistics:")
    print(f"Total holes: {len(db.list_holes())}")
    print(f"Total collar records: {len(db.collar)}")
    print(f"Total survey records: {len(db.survey)}")

    # Show coordinate ranges
    extent = db.extent()
    print("\nCoordinate Ranges:")
    print(extent)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    Database Statistics:
    Total holes: 5275
    Total collar records: 5277
    Total survey records: 18855

    Coordinate Ranges:
    BoundingBox(origin:[0. 0. 0.], maximum:[5460.98164532 2901.77029147 1977.93461876], nsteps:[50 50 25])




.. GENERATED FROM PYTHON SOURCE LINES 104-106

Access Individual Drillholes
----------------------------

.. GENERATED FROM PYTHON SOURCE LINES 106-115

.. code-block:: Python

    if len(db.list_holes()) > 0:
        # Get the first available hole
        first_hole_id = db.list_holes()[0]
        hole = db[first_hole_id]

        print(f"\nExample: Accessing hole '{first_hole_id}':")
        print(f"Total depth: {hole.collar[DhConfig.total_depth].iloc[0]:.1f}m")
        print(f"Number of survey points: {len(hole.survey)}")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    Example: Accessing hole 'C2034NEI32':
    Total depth: 98.5m
    Number of survey points: 5




.. GENERATED FROM PYTHON SOURCE LINES 116-118

Summary
-------

.. GENERATED FROM PYTHON SOURCE LINES 118-125

.. code-block:: Python

    print("\n" + "=" * 70)
    print("Summary:")
    print("  ✓ Used DrillholeDatabase.from_csv() to load drilling data")
    print("  ✓ Specified column mapping for both collar and survey files")
    print("  ✓ Database automatically validated and normalized the data")
    print("  ✓ Ready to add interval/point tables or perform analysis")
    print("=" * 70)




.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    ======================================================================
    Summary:
      ✓ Used DrillholeDatabase.from_csv() to load drilling data
      ✓ Specified column mapping for both collar and survey files
      ✓ Database automatically validated and normalized the data
      ✓ Ready to add interval/point tables or perform analysis
    ======================================================================





.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 45.851 seconds)


.. _sphx_glr_download__auto_examples_plot_from_csv_example.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_from_csv_example.ipynb <plot_from_csv_example.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_from_csv_example.py <plot_from_csv_example.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_from_csv_example.zip <plot_from_csv_example.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
